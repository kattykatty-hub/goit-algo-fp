import random


def monte_carlo_simulation(num_trials):
    results = {i: 0 for i in range(2, 13)}  # Ініціалізуємо словник для зберігання кількості випадінь для кожної суми
    for _ in range(num_trials):
        dice1 = random.randint(1, 6)  # Кидаємо перший кубик
        dice2 = random.randint(1, 6)  # Кидаємо другий кубик
        total = dice1 + dice2  # Обчислюємо суму
        results[total] += 1  # Збільшуємо лічильник для цієї суми
    probabilities = {k: (v / num_trials * 100, v, num_trials) for k, v in results.items()}  # Обчислюємо ймовірності
    return probabilities


def display_results(probabilities):
    print("Сума\tІмовірність\tКількості")
    for total, (prob, a, t) in probabilities.items():
        print(f"{total}\t{prob:.2f}%\t({a}/{t})")


if __name__ == "__main__":
    num_trials = 36  # Кількість ітерацій для симуляції
    probabilities = monte_carlo_simulation(num_trials)
    display_results(probabilities)
    """
    # Аналітичний результат
    Сума    Імовірність
    2       2.78% (1/36)
    3       5.56% (2/36)
    4       8.33% (3/36)
    5       11.11% (4/36)
    6       13.89% (5/36)
    7       16.67% (6/36)
    8       13.89% (5/36)
    9       11.11% (4/36)
    10      8.33% (3/36)
    11      5.56% (2/36)
    12      2.78% (1/36)
    
    # Монте карло симуляція (36 повторів)
    Сума	Імовірність	Кількості
    2	    5.56%	    (2/36)
    3	    5.56%	    (2/36)
    4	    11.11%	    (4/36)
    5	    16.67%	    (6/36)
    6	    13.89%	    (5/36)
    7	    16.67%	    (6/36)
    8	    13.89%	    (5/36)
    9	    5.56%	    (2/36)
    10	    8.33%	    (3/36)
    11	    2.78%	    (1/36)
    12	    0.00%	    (0/36)
    
    # Монте карло симуляція (1_000_000 повторів)
    Сума	Імовірність	Кількості
    2	    2.78%	    (27771/1000000)
    3	    5.56%	    (55624/1000000)
    4	    8.32%	    (83196/1000000)
    5	    11.13%	    (111297/1000000)
    6	    13.84%	    (138362/1000000)
    7	    16.74%	    (167356/1000000)
    8	    13.91%	    (139102/1000000)
    9	    11.11%	    (111056/1000000)
    10	    8.30%	    (83027/1000000)
    11	    5.53%	    (55259/1000000)
    12	    2.79%	    (27950/1000000)
    
"""

    """
        36 повторів Монте-Карло:
        Загалом, результати досить близькі до аналітичних розрахунків, але є деяка відмінність.
        Наприклад, для сум 2, 3, 4, 5, 9, 10, 11 вони збігаються, але для інших сум є невеликі відмінності.
        Це може бути через обмежену кількість повторів, через яку рандомізація впливає на результати.

    1_000_000 повторів Монте-Карло:
        З результатів видно, що збіжність до аналітичних розрахунків зросла.
        Більшість результатів тепер дуже близькі до тих, що отримані аналітичним шляхом.
        Однак, деякі невеликі відмінності є наявними, але вони значно менші, ніж у випадку з 36 повторами.

    Загалом, чим більше повторів у методі Монте-Карло, тим ближче результати до аналітичних розрахунків. 
    Тому, якщо точність важлива, краще використовувати більшу кількість повторів.
    """